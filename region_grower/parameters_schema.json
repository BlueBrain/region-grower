{
    "definitions": {

        "layer": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 6
                },

        "fraction": {
            "type": "number"
        },

        "limit": {
            "type": "object",
            "properties": {
                "layer": {"$ref": "#/definitions/layer"},
                "fraction": {"$ref": "#/definitions/fraction"}
            },
            "required": ["layer", "fraction"],
            "additionalProperties": false
        },

        "limits": {
            "type": "object",
            "properties": {
                "hard_limit_min": {"$ref": "#/definitions/limit"},
                "hard_limit_max": {"$ref": "#/definitions/limit"}
            },
            "additionalProperties": false
        }
    },

    "type": "object",
    "properties": {
        "context_constraints": {
            "type": "object",
            "properties": {
                "apical": {
                    "type": "object",
                    "properties": {
                        "hard_limit_min": {"$ref": "#/definitions/limit"},
                        "hard_limit_max": {"$ref": "#/definitions/limit"},
                        "extent_to_target": {
                            "type": "object",
                            "properties": {
                                "layer": {"$ref": "#/definitions/layer"},
                                "fraction": {"$ref": "#/definitions/fraction"},
                                "slope": {
                                    "type": "number"
                                },
                                "intercept": {
                                    "type": "number"
                                }
                            },
                            "required": ["layer", "fraction", "intercept", "slope"],
                            "additionalProperties": false
                        }
                    },
                    "additionalProperties": false
                },
                "basal": {"$ref": "#/definitions/limits"},
                "axon": {"$ref": "#/definitions/limits"}
            },
            "additionalProperties": false
        }
    }
}
